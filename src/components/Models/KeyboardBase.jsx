/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
Command: npx gltfjsx@6.5.3 keyboard-base-xl.glb
*/

import React, { useMemo } from 'react';
import { Edges, useGLTF } from '@react-three/drei';
import * as THREE from 'three'; // Import THREE for MeshBasicMaterial

export function KeyboardBase({ baseColor = "#444444", ...props }) {
    const { nodes } = useGLTF('/models/keyboard.glb');

    // Create a fully transparent MeshBasicMaterial
    const transparentMaterial = useMemo(
        () =>
            new THREE.MeshBasicMaterial({
                transparent: true,
                opacity: 0,         // fully invisible
                depthWrite: false,  // don't write to the depth buffer, which helps with rendering transparent objects
            }),
        []
    );

    return (
        <group {...props} dispose={null}>
            <mesh geometry={nodes.aMain.geometry}
                scale={[4, 0.2, 7.8]}
                rotation={[0, Math.PI / 2, 0]}
                position={[-1.25, -2, -2.5]}
            // The transparent and opacity props are now handled directly by the material
            >
                {/* Apply the newly created transparent material */}
                {/* <primitive object={transparentMaterial} attach="material" /> */}
                <meshStandardMaterial color={baseColor} roughness={0.2} metalness={0.8} /> {/* Using baseColor here */}

                <Edges
                    linewidth={4}
                    scale={1}
                    threshold={15} // Display edges only when the angle between two faces exceeds this value (default=15 degrees)
                    color="white"
                />
            </mesh>
        </group>
    );
}

useGLTF.preload('models/keyboard.glb');
